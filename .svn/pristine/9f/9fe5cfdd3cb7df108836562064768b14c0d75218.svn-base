<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib prefix="kongkong" tagdir="/WEB-INF/tags/kongkong"%>
<html>
<head>
<style>
#sideBar {
	border-style: solid;
	position: absolute;
	top: 400px;
}

#ad {
	border-style: solid;
	position: absolute;
	top: 650px;
	height: 150px;
	width: 150px;
	background-color: aqua;
}
</style>
<%@ include file="/WEB-INF/inc/top.jsp"%>
<title>Home</title>
</head>
<body>
<!-- START : 검색 폼  --> 
<div style="align-content: center; margin-top: 100px;">
<div class="panel panel-default">
  <div class="panel-body">
    <form name="frm_search" action="boardHome.wow" method="post" class="form-horizontal">
        <input type="hidden" name="curPage" value="${searchVO.curPage}">
        <input type="hidden" name="rowSizePerPage" value="${searchVO.rowSizePerPage}">
          <div class="form-group">
            <label for="id_searchType" class="col-sm-2 control-label">검색</label>
            <div class="col-sm-2">
              <input type="text" name="searchWord" class="form-control input-sm" value="${searchVO.searchWord}" placeholder="검색어" >			      
            </div>
            <label for="id_searchCategory" class="col-sm-2 col-sm-offset-2 control-label">분류</label>
            <div class="col-sm-2">
                <select id="id_searchCategory" name="searchCategory" class="form-control input-sm">
               		<option value="">게시판선택</option>
					<option value="FREE">자유게시판</option>
					<option value="QNA">QNA</option>
					<option value="NOTICE">공지사항</option>
                </select>
            </div>
          </div>
          <div class="form-group">
            <div class="col-sm-2 col-sm-offset-9 text-right" >
              <button type="reset" id="id_btn_reset" class="btn btn-sm btn-default">
                    <i class="fa fa-sync"></i>
                    &nbsp;&nbsp;초기화 
                </button>
            </div>     
            <div class="col-sm-1 text-right" >
                <button type="submit" class="btn btn-sm btn-primary ">
                    <i class="fa fa-search"></i>
                    &nbsp;&nbsp;검 색
                </button>
            </div>
            <div class="col-sm-2 col-sm-offset-7 text-right" >
    		</div>
       </div>
    </form>
  </div>
</div>
</div>
<!-- END : 검색 폼  --> 
<div style="height: 112px"></div>
	<!-- 인기게시판 시작 -->
	<div class="row justify-content-evenly" style="max-height: 250px;margin-top: 20px">
		<div class="col-11" style="height: 220px; overflow: hidden;">
			<table class="table table-bordered table-hover text-center fifth-gray"
				   style="background-color: white">
				<colgroup>
					<col width="10%" />
					<col />
					<col width="10%" />
					<col width="10%" />
				</colgroup>
				<thead>
					<tr>
						<th>글번호</th>
						<th>제목</th>
						<th>작성자</th>
						<th>분류</th>
					</tr>
				</thead>
				<tbody>
					<c:forEach items="${PopularList}" var="PopularList" begin="0"
						end="3">
						<tr>
							<td><i class="bi bi-award-fill" style="font-size: x-large;"></i></td>
							<td class="text-left"><a
								href="freeView.wow?boNo=${PopularList.boNo}">
									${PopularList.boTitle} </a></td>
							<td>${PopularList.boWriter}</td>
							<td>${PopularList.boCategory}</td>
						</tr>
					</c:forEach>
				</tbody>
			</table>
		</div>
	</div>
	<!-- 인기게시판 끝 -->
	<div class="row"  > <!--  메인 틀 -->
		<div class="col-1">
			<%@ include file="/WEB-INF/inc/sidebar.jsp"%>
		</div>
		<div class="col-10" style="position: absolute; left: 150px">
			<!-- 공지사항 시작 -->
			<div class="container" style="margin-top: 50px">
				<div class="row">
					<div class="row justify-content-evenly">
						<div class="col-11" style="height: 220px; overflow: hidden;">
							<table class="table table-bordered table-hover text-center fifth-gray" style="background-color: white">
								<colgroup>
									<col width="10%" />
									<col />
									<col width="10%" />
									<col width="10%" />
								</colgroup>
								<thead>
									<tr>
										<th>글번호</th>
										<th>제목</th>
										<th>작성자</th>
										<th>분류</th>
									</tr>
								</thead>
								<tbody>
									<c:forEach items="${NoticeList}" var="NoticeList" begin="0"
										end="3">
										<tr class="text-center">
											<td><i style="font-size: x-large;" class="bi bi-bookmarks-fill"></i></td>
											<td class="text-left"><a
												href="freeView.wow?boNo=${NoticeList.boNo}">
													${NoticeList.boTitle} </a></td>
											<td>${NoticeList.boWriter}</td>
											<td>${NoticeList.boCategory}</td>
										</tr>
									</c:forEach>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
			<!-- 공지사항 끝 -->
			<!-- 인기글 끝  -->
			<!-- 게시판 불러오는 곳 -->
			<div class="container" id="targetdiv" style="margin-top: 10px">
				<div class="row">
					<div class="row justify-content-evenly">
						<div class="col-12" style="height: 1000px;">
						<!-- 기본 게시판 시작 -->
						<table class="table table-bordered table-hover text-center fifth-gray">
							<colgroup>
								<col width="10%" />
								<col width="10%" />
								<col />
								<col width="10%" />
							</colgroup>
							<thead>
								<tr>
									<th>글번호</th>
									<th>분류</th>
									<th>일반게시판</th>
									<th>작성자</th>
								</tr>
							</thead>	
							<tbody>
							<c:forEach items="${freeBoardList}" var="freeBoard">
								<tr class="text-center">
									<td>${freeBoard.boNo}</td>
									<td>${freeBoard.boCategory}</td>
									<td class="text-left">
										<a href="freeView.wow?boNo=${freeBoard.boNo}">
											${freeBoard.boTitle}
										</a>
									</td>
									<td>${freeBoard.boWriter}</td>
								</tr>
								</c:forEach>
							</tbody>
							</table>
							<kongkong:paging pagingVO="${searchVO}"/> 
						</div>
					</div>
				</div>
			</div>
			<!-- 게시판 불러오는 곳 끝 -->
			<!-- 새글쓰기 시작 -->
			<div class="container" style="margin-top: 50px">
				<div class="col-sm-2 col-sm-offset-7 text-right">
					<input class="form-control me-2" type="search" placeholder="검색"
						aria-label="Search"> <a href="freeRegist.wow"
						class="btn btn-primary btn-sm" style="margin-top: 30px"> <span
						class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> <i
						class="fa fa-sign"></i> &nbsp;&nbsp;새글쓰기
					</a>
				</div>
				<%-- <kongkong:paging pagingVO="${searchVO}"/> --%>
			</div>
			<!-- 새글쓰기 끝 -->
	</div></div> <!-- 메인 틀 끝 -->
<div id="bottom" style="height: 1000px"></div>
<%@ include file="/WEB-INF/inc/footer.jsp"%>
</body>
<script type="text/javascript">
	// ---전역 변수 설정
	//자바스크립트객체하고 jQuery 객체하고 구분하기 위한  jQuery 객체변수는 $로 시작
	$frm = $('form[name=frm_search]');

	// ---일반 함수 설정

	// ---이벤트 함수 설정

	// $frm 서브밋 이벤트가 발생할 때
	// curPage = 1
	$('button[type=submit]', $frm).click(function(e) {
		e.preventDefault();
		$frm.find("input[name=curPage]").val(1);
		$frm.submit();
	});

	//id_btn_reset 클릭 할 때
	//curPage = 1
	//모든 객체는 초기화 해주시면 됩니다.

	//페이지네이션의 a 링크 클릭

	/* $('nav ul.pagination a[data-page]').click(function(e){
	 e.preventDefault();
	 $this = $(this);
	 $frm.find("input[name=curPage]").val($this.data('page'));
	 $frm.submit();
	 }); */

	//로우 사이즈 변경
	$('#id_rowSizePerPage').change(function(e) {
		e.preventDefault();
		$this = $(this);
		console.log('select val', $this.val());
		$frm.find("input[name=curPage]").val(1);
		$frm.find("input[name=rowSizePerPage]").val($this.val());
		$frm.submit();

	});
	// --- 초기화 호출
	$('#id_btn_reset').click(
			function(e) {
				e.preventDefault();
				$frm.find("input[name=curPage]").val(1);
				$frm.find("input[name=searchWord]").val("");
				$frm.find("select[name=searchType]").val("T");
				$frm.find("select[name=searchCategory] option:first").prop(
						"selected", true);
			});
</script>
</html>
