<%@ tag language="java" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ attribute name="pagingVO" type="com.kongkong.common.vo.PagingVO" required="true" %>
<%@ attribute name="linkPage" type="java.lang.String" %>
<!-- 
	UI에 공통적으로 사용되는 것 중 하나인 pagination 

 -->

 <%
 	//절대경로인 경우 앞에 컨텍스트 패스 추가
 	if(linkPage != null && linkPage.startsWith("/")){
 		linkPage = request.getContextPath() + linkPage;
 	}
 	jspContext.setAttribute("linkPage", linkPage);
 %>
 
 <!-- start pagination -->
 <nav class="text-center">
	<ul class="pagination">
		<c:if test="${pagingVO.startPage>1 }">
			<li><a href="${linkPage}?curPage=${pagingVO.startPage-1}" data-page="${pagingVO.startPage-1 }" aria-label="Previous">
	       			 <span aria-hidden="true">&laquo;</span>
	      		</a>
		     </li>
	     </c:if>
	     <c:if test="${searchVO.curPage>searchVO.startPage }">
			<li><a href="${linkPage}?curPage=${searchVO.curPage-1}" data-page="${searchVO.curPage-1 }" aria-label="Previous">
	       			 <span aria-hidden="true" >&lt;</span>
	      		</a>
		     </li>
	     </c:if>
	     	     
		 <c:forEach begin="${pagingVO.startPage }" end="${pagingVO.endPage}" var="i">
			 <c:if test="${i == pagingVO.curPage }">
				 <li class="active">
			      <span>${i }<span class="sr-only">${i }</span></span>
			   	 </li>
			 </c:if>
			 <c:if test="${i != pagingVO.curPage }">
			 <li><a href="${linkPage}?curPage=${i}" data-page="${i }" >${i}</a></li>	
			 </c:if>
		 </c:forEach>

		  <c:if test="${pagingVO.curPage<pagingVO.endPage}">
			 <li><a href="${linkPage}?curPage=${pagingVO.curPage+1}" data-page="${pagingVO.curPage+1 }" aria-label="Next">
	        		<span aria-hidden="true">&gt;</span>
	      		</a>
		     </li>
	     </c:if>
		 <c:if test="${pagingVO.endPage<pagingVO.totalPageCount}">
			 <li><a href="${linkPage}?curPage=${pagingVO.endPage+1}"  data-page="${pagingVO.endPage+1 }" aria-label="Next">
	        		<span aria-hidden="true">&raquo;</span>
	      		</a>
		     </li>
	     </c:if>
	</ul>
	</nav>
	<!-- end pagination -->