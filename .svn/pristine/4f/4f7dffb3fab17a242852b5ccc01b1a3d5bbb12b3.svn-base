<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib prefix="kongkong" tagdir="/WEB-INF/tags/kongkong"%>
<html>
<head>
<style>

/* #sideBar {
	border-style: solid;
	padding-left: 5px;
	position: absolute;
	top: 400px;
}

#ad {
	border-style: solid;
	position: absolute;
	top: 650px;
	height: 150px;
	width: 150px;
	background-color: aqua;
} */
	
	a:link {
		color: black;
	}
	a:visited {
	 color: black; 
	}
	
	.notice {
	border-radius: 10px; 
	background-color: white; 
	font-size: small;
	color: #007bff;
	}
	
	.continent {
	border-radius: 10px; 
	background-color: white; 
	font-size: small;
	color: #28a745;
	}

.ico_flag_red {
    position: absolute;
    top: -1px;
    left: -1px;
    display: block;
    z-index: 1;
    width: 46px;
    height: 56px;
    padding-top: 6px;
    background: url(https://www.ybtour.co.kr/static/images/content/ico/ico_flag.png) no-repeat;
    font-size: 12px;
    font-weight: normal;
    color: #fff;
    text-align: center;
}

.ico_flag_yel {
    position: absolute;
    top: -1px;
    left: -1px;
    display: block;
    z-index: 1;
    width: 46px;
    height: 56px;
    padding-top: 6px;
    background: url(https://www.ybtour.co.kr/static/images/content/ico/ico_flag.png) no-repeat;
    background-position: center;
    font-size: 12px;
    font-weight: normal;
    color: #fff;
    text-align: center;
}

.ico_flag_pur {
    position: absolute;
    top: -1px;
    left: -1px;
    display: block;
    z-index: 1;
    width: 46px;
    height: 56px;
    padding-top: 6px;
    background: url(https://www.ybtour.co.kr/static/images/content/ico/ico_flag.png) no-repeat;
    background-position: bottom;
    font-size: 12px;
    font-weight: normal;
    color: #fff;
    text-align: center;
}
</style>
<%@ include file="/WEB-INF/inc/top.jsp"%>
<title>Home</title>
</head>

<body style="background-color: #FAFAFA">
<%-- <%@ include file="/WEB-INF/inc/sidebar.jsp"%> --%>
<div class="container">
<!-- START : 검색 폼  --> 
	<div style="margin: 5px;"></div>
	<form name="frm_search" action="boardTip.wow" method="post">
			<input type="hidden" name="curPage" value="${searchVO.curPage}">
	        <input type="hidden" name="rowSizePerPage" value="${searchVO.rowSizePerPage}">
			<div style="margin: 5px;"></div>
			<div class="row">
				<div class="col-md-10" style="padding: 0px;">
					<%@ include file="/WEB-INF/inc/topTip.jsp"%>
				</div>
				  <div align="center" class="col-md-2 border"
							  				  style="padding-left: 0;
										      padding-left: 5px;
										      padding-right: 5px;
										      padding-top: 5px;
										      padding-bottom: 5px;
										      width: 210px;
										      height: 200px;
										      background-color: #FFFFFF;
										      ">
						<select id="id_searchCategory" name="searchCategory" class="form-control input-sm">
								<option value="TIP"<c:if test="${searchVO.searchCategory == 'TIP'}"> selected </c:if>>Tip</option>
			            </select>
			            <div style="margin: 5px;"></div>
			            <select id="id_searchType" name="searchType" class="form-control input-sm">
		                    <option value="T" ${searchVO.searchType == 'T' ? 'selected="selected"' : '' }>제목</option>
		                    <option value="W" ${searchVO.searchType == 'W' ? 'selected="selected"' : '' }>작성자</option>
		                    <option value="C" ${searchVO.searchType == 'C' ? 'selected="selected"' : '' }>내용</option>
		                    <option value="I" ${searchVO.searchType == 'I' ? 'selected="selected"' : '' }>아이디</option>
		                </select>
		                <div style="margin: 5px;"></div>
					  <input type="text" name="searchWord" class="form-control input-sm" value="${searchVO.searchWord}" placeholder="검색어">
					  <div style="margin: 5px;"></div>
				          <button type="submit" class="btn btn-dark" style="width: 182px;"><i class="fa fa-search"></i></button>
		            <div>전체 <b style="font-size: large;">${searchVO.totalRowCount}</b> 건 조회</div>
				</div>
			</div>
			</form>
			<!--  -->
			<hr>
			<div class="row" style="margin-top: -10;">
				<div class="col-md-12 border shadow" style="text-align:center; background-color: #FFFFFF; border-radius: 10px;
				padding-top: 20px; padding-left: 30px; padding-right: 30px;">
					<div class="row border" style="border-radius: 10px;">
					<c:forEach items="${onlyTipBest}" var="onlyTipBest" begin="0" end="0">
					<div class="col-4 border-right"
							  				  style="padding-left: 0;
										      padding-left: 5px;
										      padding-right: 5px;
										      padding-top: 5px;
										      padding-bottom: 5px;
										      height: 350px;
										      background-color: #FFFFFF;
										      ">
										      <strong class="ico_flag_yel">
										      Best
										      <br>
										      Tip
										      </strong>
										      <img src="https://content.skyscnr.com/m/53458b7e139844c2/WordPress_News_Image-GettyImages-177290915.jpg"
										      style="padding: 10px; width: 380px; height: 260px;" />
											  <div class="text-center">
											  <c:if test="${onlyTipBest.boHit >= 100}">
											  <span class="badge badge-success">Best of kongkong</span>
											  </c:if>
											      	<h4><a href="tipView.wow?boNo=${onlyTipBest.boNo}">${onlyTipBest.boTitle}</a></h4>
											      	<p style="text-align: right;">${onlyTipBest.boWriter} / ${onlyTipBest.boRegDate}</p>
											      </div>
										      </div>
											  </c:forEach>
										      
											  <c:forEach items="${onlyTipBest}" var="onlyTipBest" begin="1" end="1">
										      <div align="center" class="col-4 border-right"
							  				  style="padding-left: 0;
										      padding-left: 5px;
										      padding-right: 5px;
										      padding-top: 5px;
										      padding-bottom: 5px;
										      height: 350px;
										      background-color: #FFFFFF;
										      ">
										      <strong class="ico_flag_pur">
										      Best
										      <br>
										      Tip
										      </strong>
										      <img src="https://content.skyscnr.com/m/1bf0d1856ed075b1/original/czech-republic-prague-gettyimages-503372055.jpg?resize=1800px:1800px&quality=100"
										      style="padding: 10px; width: 380px; height: 260px;" />
										      <div class="text-center">
										      <c:if test="${onlyTipBest.boHit >= 100}">
											  <span class="badge badge-success">Best of kongkong</span>
											  </c:if>
											      	<h4><a href="tipView.wow?boNo=${onlyTipBest.boNo}">${onlyTipBest.boTitle}</a></h4>
											      	<p style="text-align: right;">${onlyTipBest.boWriter} / ${onlyTipBest.boRegDate}</p>
											      </div>
										      </div>
											  </c:forEach>
										      <c:forEach items="${onlyTipBest}" var="onlyTipBest" begin="2" end="2">
										      <div align="center" class="col-4"
							  				  style="padding-left: 0;
										      padding-left: 5px;
										      padding-right: 5px;
										      padding-top: 5px;
										      padding-bottom: 5px;
										      height: 350px;
										      background-color: #FFFFFF;
										      ">
										      <strong class="ico_flag_red">
										      Best
										      <br>
										      Tip
										      </strong>
										      <img src="https://content.skyscnr.com/m/50e1455e497d50a6/original/GettyImages-527190597.jpg?resize=1800px:1800px&quality=100"
										      style="padding: 10px; width: 380px; height: 260px;" />
										      <div class="text-center">
										      <c:if test="${onlyTipBest.boHit >= 100}">
											  <span class="badge badge-success">Best of kongkong</span>
											  </c:if>
											      	<h4><a href="tipView.wow?boNo=${onlyTipBest.boNo}">${onlyTipBest.boTitle}</a></h4>
											      	<p style="text-align: right;">${onlyTipBest.boWriter} / ${onlyTipBest.boRegDate}</p>
											      </div>
										      </div>
											  </c:forEach>
					</div>     
				</div>
			</div>
			<div style="margin: 20px;"></div>
	<!-- END : 검색 폼  --> 
	<!-- 공지게시판 시작 -->
	<div class="row border shadow" style="background-color: white; border-radius: 20px;">
		<div class="col-md-12" style="padding-right: 0px;padding-left: 0px;
		">
			<table class="table table-hover text-center">
				<colgroup>
					<col width="7%" />
					<col width="10%" />
					<col />
					<col width="10%" />
					<col width="10%" />
					<col width="10%" />
				</colgroup>
				<thead class="table-dark">
					<tr>
						<th>글번호</th>
						<th>분류</th>
						<th>제목</th>
						<th>작성자</th>
						<th>등록일자</th>
						<th>조회수</th>
					</tr>
				</thead>
				<tbody>
					<c:forEach items="${NoticeList}" var="NoticeList" begin="0" end="3">
						<tr class="table-primary">
							<td><div class="border border-primary notice">공지</div></td>
							<td>${NoticeList.boCategory}</td>
							<td class="text-left"><a
								href="tipView.wow?boNo=${NoticeList.boNo}">
									${NoticeList.boTitle} </a></td>
							<td>${NoticeList.boWriter}<c:if test='${sessionScope.USER_INFO.userId eq NoticeList.boId}'><a href="/myPage/myPageHome.wow"><i class="fas fa-user-circle"></i></a></c:if></td>
							<td>${NoticeList.boRegDate}</td>
							<td>${NoticeList.boHit}</td>
						</tr>
					</c:forEach>
					
					<c:forEach items="${onlyTip}" var="onlyTip" begin="0" end="3">
						<tr class="table-success">
							<td><div class="border border-success continent">선호</div></td>
							<td>${onlyTip.boCategory}</td>
							<td class="text-left">
							<c:if test="${onlyTip.boBlock eq 'Y'}">
								<b style="color: red;">관리자에 의해 차단된 게시글 입니다.</b>
							</c:if>
							<c:if test="${onlyTip.boBlock eq 'N'}">
							<a href="tipView.wow?boNo=${onlyTip.boNo}">
									${onlyTip.boTitle} 
									<c:if test="${onlyTip.boReplyCnt ge 1}"><span class="text-primary" style="font-size: small;">[${onlyTip.boReplyCnt}]</span></c:if>
							</a>
							</c:if>
							</td>
							<td>${onlyTip.boWriter}<c:if test='${sessionScope.USER_INFO.userId eq onlyTip.boId}'><a href="/myPage/myPageHome.wow"><i class="fas fa-user-circle"></i></a></c:if></td>
							<td>${onlyTip.boRegDate}</td>
							<td>${onlyTip.boHit}</td>
						</tr>
					</c:forEach>
					
	<!-- 공지게시판 끝 -->
	<!-- 메인게시판 시작 -->
					<c:forEach items="${TipList}" var="TipList" varStatus="st">
						<tr class="">
							<%-- <td>${freeBoardList.size()-st.count+1}  </td> --%>
							<td>${TipList.boNo}</td>
							<td>${TipList.boCategory}</td>
							<td class="text-left">
							<c:if test="${TipList.boBlock eq 'Y'}">
								<b style="color: red;">관리자에 의해 차단된 게시글 입니다.</b>
							</c:if>
							<c:if test="${TipList.boBlock eq 'N'}">
								<a href="tipView.wow?boNo=${TipList.boNo}">
									<c:if test="${TipList.boHit >= 100}"><span class="badge badge-success">BOK</span></c:if> ${TipList.boTitle}
									<c:if test="${TipList.boReplyCnt ge 1}"><span class="text-primary" style="font-size: small;">[${TipList.boReplyCnt}]</span></c:if>
								</a>
							</c:if>
							</td>
							<td>${TipList.boWriter}<c:if test='${sessionScope.USER_INFO.userId eq TipList.boId}'><a href="/myPage/myPageHome.wow"><i class="fas fa-user-circle"></i></a></c:if></td>
							<td>${TipList.boRegDate}</td>
							<td>${TipList.boHit}</td>
						</tr>
					</c:forEach>
				</tbody>
			</table>
		</div>
	  </div>
	  <!-- 메인게시판 끝 -->
	  <div style="margin: 30px;"></div>
	  <div class ="row">
	  	<div class="col-md-6">
		 	<kongkong:pagingTip pagingVO="${searchVO}"/> 
		  	</div>
		  	<div class="col-md-6">
		  <c:if test="${not empty sessionScope.USER_INFO}">
		  <div class="container">
		  	 <div class="text-right">
				 <a href="freeRegist.wow" class="kongkongs" style="color: white;">
				 	<!-- <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>  -->
				 	<i class="fa fa-sign"></i>  새글쓰기
				 </a>
			 </div>
		  </div>
		  </c:if>
	  	</div>
	  </div>
</div><!-- 컨테이너 끝 -->
<div id="bottom"></div>
<div style="margin: 30px;"></div>
<%@ include file="/WEB-INF/inc/footer.jsp"%>
</body>
<!-- jquery plugins here-->
<script src="/resources/js/jquery-1.12.1.min.js"></script>
<script type="text/javascript">
	// ---전역 변수 설정
	//자바스크립트객체하고 jQuery 객체하고 구분하기 위한  jQuery 객체변수는 $로 시작
	$frm = $('form[name=frm_search]');

	// ---일반 함수 설정

	// ---이벤트 함수 설정

	// $frm 서브밋 이벤트가 발생할 때
	// curPage = 1
	$('button[type=submit]', $frm).click(function(e) {
		e.preventDefault();
		$frm.find("input[name=curPage]").val(1);
		$frm.submit();
	});

	//id_btn_reset 클릭 할 때
	//curPage = 1
	//모든 객체는 초기화 해주시면 됩니다.

	//페이지네이션의 a 링크 클릭

		$('nav ul.pagination a[data-page]').click(function(e){
	 e.preventDefault();
	 $this = $(this);
	 $frm.find("input[name=curPage]").val($this.data('page'));
	 $frm.submit();
	 });

	//로우 사이즈 변경
	$('#id_rowSizePerPage').change(function(e) {
		e.preventDefault();
		$this = $(this);
		console.log('select val', $this.val());
		$frm.find("input[name=curPage]").val(1);
		$frm.find("input[name=rowSizePerPage]").val($this.val());
		$frm.submit();

	});
</script>
</html>
