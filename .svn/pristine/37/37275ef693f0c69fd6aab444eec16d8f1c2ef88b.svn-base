<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" trimDirectiveWhitespaces="true"%>
<%@taglib prefix="form" uri="http://www.springframework.org/tags/form" %>
<!DOCTYPE html>
<html lang="ko">
<head>
<title>자유게시판 - 글 수정</title>
</head>
<body>
<%@ include file="/WEB-INF/inc/top.jsp"%>
<div style="height: 100px;"></div>
<div class="container">
  <div class="page-header">
    <h3 align="center">게시판 수정</h3>
  </div>
  
	<form:form action="freeModify.wow" modelAttribute="board" method="post">
	
	<input type="hidden" name="boNo" value="${board.boNo}">
	
	<table class="table table-hover text-center">
		<colgroup>
			<col width="20%" />
			<col/>
		</colgroup>
		<tr class="table-secondary">
	      <th>글번호</th>
	      <td>${board.boNo}</td>
    	</tr>
		<tr>
			<th>제목</th>
			<td>
				<form:input path="boTitle" cssClass="form-control input-sm"/>
				<form:errors path="boTitle" />
			</td>
		</tr>
		<tr>
			<th>작성자</th>
			<td>
			<form:input path="boWriter" cssClass="form-control input-sm"/>
			<form:errors path="boWriter" />
			</td>
		</tr>
		<tr>
			<th>분류</th>
			<td>
				<form:select path="boCategory" cssClass="form-control input-sm" >
					<option value="FREE"  <c:if test="${board.boCategory == 'FREE'}"> selected </c:if>>자유게시판</option>
					<option value="QNA"   <c:if test="${board.boCategory == 'QNA'}"> selected </c:if>>QnA</option>
					<c:if test='${sessionScope.USER_INFO.userRole eq "admin"}'>
					<option value="NOTICE"   <c:if test="${board.boCategory == 'NOTICE'}"> selected </c:if>>공지사항</option>
					<option value="TIP"   <c:if test="${board.boCategory == 'TIP'}"> selected </c:if>>Tip</option>
					</c:if>
				</form:select>
			</td>
		</tr>
		<tr>
			<th>내용</th>
			<td>
				<form:textarea rows="10" path="boContent" cssClass="form-control input-sm" />
			</td>
		</tr>
    <tr>
      <th>조회수</th>
      <td>${board.boHit}</td>
    </tr>
    <tr>
      <th>등록일자</th>
      <td>${board.boRegDate}</td>
    </tr>   		
		<tr class="">
			<td colspan="2">
          <div class="">
              <a href="freeList.wow" class="btn btn-default btn-sm"> 
                <span class="glyphicon glyphicon-list" aria-hidden="true"></span>
                &nbsp;&nbsp;목록
              </a>
            </div>
            <div class="">
              <!-- 문제점 : 사용자가 입력박스에서 엔터를 치면 첫번째 submit의 formaction 방향으로 이동한다.  -->
              <button type="submit" id="submit" formaction="freeDelete.wow" class="btn btn-sm btn-danger"> 
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                &nbsp;&nbsp;삭제
              </button>
              <button type="submit" class="btn btn-sm btn-primary" > 
                <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                &nbsp;&nbsp;저장
              </button>
            </div>					
			</td>
		</tr>
	</table>
	</form:form>
	<script type="text/javascript">
	</script>
</div><!-- container -->
</body>
</html>


