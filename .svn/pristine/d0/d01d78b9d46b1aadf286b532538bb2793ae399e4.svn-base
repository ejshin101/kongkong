<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kongkong.mypage.dao.IMyPageDao">

	<update id="updateInfo" >
	
	UPDATE member
		SET mem_name=#{memName}
     		 , mem_bir=#{memBir}
      		 , mem_zip=#{memZip}
     		 , mem_add1=#{memAdd1}
     		 , mem_add2=#{memAdd2}
     		 , mem_hp=#{memHp}
      		 , mem_mail=#{memMail}
      WHERE mem_id=#{memId}
      
	</update>
	
	<delete id="deleteInfo" >
	
	DELETE 
		FROM member
	WHERE mem_id = #{memId}
	
	</delete>
	
	<update id="update2Info" >
	
	UPDATE member
		SET mem_pass=#{memRepass}
      WHERE mem_id=#{memId}
      
	</update>
	
	<select id="getBoardList" resultType="com.kongkong.free.vo.FreeBoardVO">
		SELECT bo_no	
			 , bo_id	
			 , bo_title	
			 , bo_writer  	
			 , bo_category 	
	         , bo_content
	         , bo_ip
	         , bo_hit
	         , TO_CHAR(bo_reg_date, 'YYYY-MM-DD') AS bo_reg_date
             , TO_CHAR(bo_mod_date, 'YYYY-MM-DD') AS bo_mod_date
	         , bo_del_yn
		  FROM free_board
		 WHERE bo_id = #{userId}
	   ORDER BY bo_reg_date DESC
	</select>
	
	<select id="getReserBoardList" resultType="com.kongkong.reservation.vo.ReservationVO">
	SELECT book_no
       , book_merchant_uid
       , book_amount
       , book_id
       , (SELECT comm_nm FROM comm_code WHERE comm_cd = book_cd) as book_cd_nm
       , book_date
	FROM reservation
	WHERE book_id = #{userId}
	ORDER BY book_no DESC
	</select>
	
	
	
	
</mapper>